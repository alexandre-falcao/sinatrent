
<div class="container">
  <div class="card-product">
    <%= cl_image_tag @instrument.photo.key %>
    <div class="card-product-infos">
      <h2> <%= @instrument.name %> </h2>
      <span><%= @instrument.description %></span>
      <p class="address">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
          <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
        </svg>
        <%= @instrument.address %>
      </p>
      <p class="price"> R$ <%= @instrument.price %> </p>


      <%= link_to "Book now", new_instrument_booking_path(@instrument), class: "btn btn-flat" %>

      <% if policy(@instrument).edit? %>
        <%= link_to "Edit", edit_instrument_path(@instrument), class: "btn btn-warning mt-2" %>
      <% end %>
        <%= link_to "Delete", instrument_path(@instrument), class: "btn btn-danger mt-2",
      data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} if policy(@instrument).destroy?
      %>
    </div>
  </div>
</div>

<div class="container">
  <div
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
    class="map">
  </div>
</div>
